import{g as p,r as n,j as _,c as i,o as r,a as e,b as g,k as s,l as k,t as b,F as A,m as h,w,n as C,T,_ as x}from"#entry";const N={key:0,class:"loading"},F={key:1,class:"error"},M={key:2,class:"works"},j={class:"works__list"},E={class:"works__thumbnail"},B=["src","alt","onClick"],I={class:"modal__inner"},V={class:"modal__container"},$={class:"modal__main"},D={class:"modal__img"},P=["src","alt"],G=p({__name:"gallery",setup(L){const m=n([]),d=n(!1),l=n(null),u=async()=>{d.value=!0,l.value=null;try{const t=await fetch("https://romanstein.jp/wp-json/wp/v2/illust?_embed&per_page=100&page=1",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();if(!Array.isArray(a))throw new Error("API response is not an array");m.value=a}catch(t){const a=t instanceof Error?t.message:"Unknown error occurred";l.value=`データの取得に失敗しました: ${a}`,console.error("APIデータの取得エラー:",t)}finally{d.value=!1}},c=n(!1),f=n(""),v=t=>{f.value=t,c.value=!0},y=()=>{c.value=!1};return _(()=>{u()}),(t,a)=>(r(),i("div",null,[a[2]||(a[2]=e("h1",null,"gallery",-1)),s(d)?(r(),i("div",N,[...a[1]||(a[1]=[k('<p data-v-80e2af0d><svg width="60" height="60" viewBox="0 0 38 38" data-v-80e2af0d><g transform="translate(19 19)" data-v-80e2af0d><g transform="rotate(0)" data-v-80e2af0d><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.125" data-v-80e2af0d><animate attributeName="opacity" from="0.125" to="0.125" dur="1.2s" begin="0s" repeatCount="indefinite" keyTimes="0;1" values="1;0.125" data-v-80e2af0d></animate></circle></g><g transform="rotate(45)" data-v-80e2af0d><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.25" data-v-80e2af0d><animate attributeName="opacity" from="0.25" to="0.25" dur="1.2s" begin="0.15s" repeatCount="indefinite" keyTimes="0;1" values="1;0.25" data-v-80e2af0d></animate></circle></g><g transform="rotate(90)" data-v-80e2af0d><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.375" data-v-80e2af0d><animate attributeName="opacity" from="0.375" to="0.375" dur="1.2s" begin="0.3s" repeatCount="indefinite" keyTimes="0;1" values="1;0.375" data-v-80e2af0d></animate></circle></g><g transform="rotate(135)" data-v-80e2af0d><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.5" data-v-80e2af0d><animate attributeName="opacity" from="0.5" to="0.5" dur="1.2s" begin="0.44999999999999996s" repeatCount="indefinite" keyTimes="0;1" values="1;0.5" data-v-80e2af0d></animate></circle></g><g transform="rotate(180)" data-v-80e2af0d><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.625" data-v-80e2af0d><animate attributeName="opacity" from="0.625" to="0.625" dur="1.2s" begin="0.6s" repeatCount="indefinite" keyTimes="0;1" values="1;0.625" data-v-80e2af0d></animate></circle></g><g transform="rotate(225)" data-v-80e2af0d><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.75" data-v-80e2af0d><animate attributeName="opacity" from="0.75" to="0.75" dur="1.2s" begin="0.75s" repeatCount="indefinite" keyTimes="0;1" values="1;0.75" data-v-80e2af0d></animate></circle></g><g transform="rotate(270)" data-v-80e2af0d><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="0.875" data-v-80e2af0d><animate attributeName="opacity" from="0.875" to="0.875" dur="1.2s" begin="0.8999999999999999s" repeatCount="indefinite" keyTimes="0;1" values="1;0.875" data-v-80e2af0d></animate></circle></g><g transform="rotate(315)" data-v-80e2af0d><circle cx="0" cy="12" r="3" fill="#60A5FA" opacity="1" data-v-80e2af0d><animate attributeName="opacity" from="1" to="1" dur="1.2s" begin="1.05s" repeatCount="indefinite" keyTimes="0;1" values="1;1" data-v-80e2af0d></animate></circle></g></g></svg></p>',1)])])):s(l)?(r(),i("div",F,[e("p",null,b(s(l)),1),e("button",{onClick:u,class:"retry-button"},"再試行")])):(r(),i("div",M,[e("ul",j,[(r(!0),i(A,null,h(s(m),o=>(r(),i("li",{class:"works__item",key:o.id},[e("div",E,[e("img",{src:o.acf.illust__img,alt:o.title.rendered,onClick:S=>v(o.acf.illust__img),loading:"lazy"},null,8,B)])]))),128))])])),g(T,null,{default:w(()=>[s(c)?(r(),i("div",{key:0,id:"worksModal",class:"modal",onClick:a[0]||(a[0]=o=>y()),role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},[e("div",I,[e("div",V,[e("div",$,[e("div",D,[e("img",{src:s(f),alt:s(f)},null,8,P)])])])])])):C("",!0)]),_:1})]))}}),H=x(G,[["__scopeId","data-v-80e2af0d"]]);export{H as default};
